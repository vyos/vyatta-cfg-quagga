tag:
type: ipv4net
help: Set source network
syntax:expression: exec "${vyatta_sbindir}/check_prefix_boundary $VAR(@)"
commit:expression: $VAR(./distance/) != ""; "Must specify distance for network $VAR(@)"
delete:expression: "touch /tmp/rip-dist.$PPID"
end:expression: "if [ -n \"$VAR(./access-list/@)\" ]; then \
	 ACL=\"$VAR(./access-list/@)\"; \
      fi; \
      if [ -f \"/tmp/rip-dist.$PPID\" ]; then \
          dist=$(cat /tmp/rip-network-distance.$PPID); \
          ${vyatta_sbindir}/vyatta-vtysh.pl -c \"configure terminal\" -c \"router rip\" \
          -c \"no distance $dist $VAR(@) $ACL \" ;
          rm -f \"/tmp/rip-dist.$PPID\";
      else \
        ${vyatta_sbindir}/vyatta-vtysh.pl -c \"configure terminal\" -c \"router rip\" \
          -c \"distance $VAR(./distance/@) $VAR(@) $ACL \" ;
      fi; "
